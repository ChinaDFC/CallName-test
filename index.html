<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/js.js"></script>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
</head>
<body>
<div class="tables">
    <table cellspacing="15">
        <tbody id="tbo">
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td></td>
            </tr>
        </tbody>
    </table>
    <input type="button" value="点名" id="butt">
</div>
<p></p>
</body>
</html>
<script>

    $(function () {
        var name = [
            'None','None','F',' ',
            'None','None',' ','A',
            '贾克斯','H',' ','B',
            ' ','李捷东','邓富铖',' ',
            '易大师',' ','G','黄子杰',
            '邓国东','杰斯','徐庆烽','菊花信',
            'D','吴靖辉','恕瑞玛','轮子妈',
            ' ',' ','维伽','奥巴马',
            'C',' ','陈钊文',' ',
            '德莱文',' ','E','I',
            '--讲台--'
        ];
        for(i=0;i<=10;i++){
            for (j=0;j<=3;j++){
                $('tbody tr:eq('+i+') td:eq('+j+')').append(name[(i*4)+j]);
            }

        }
        var id;
        var a;
        $('#butt').click(function () {
            bname = this.value;
            var classname;

            if (bname == '点名'){
                $(this).val('停止');
                id = setInterval(function () {
                    $('td').css({
                        'background-color': 'white',
                    });
                    while(true){
                        a = Math.random()*40;
                        a = Math.round(a);
                        tdname = $('td:eq('+a+')').text();
                        classname = $('td:eq('+a+')').hasClass('on');
                        if (tdname.trim() == '' ||
                            tdname.trim() == 'None' ||
                            tdname.trim() == '--讲台--' || classname==true){
                            continue;
                        } else {
                            break;
                        }
                    }
                    $('td:eq('+a+')').css({
                        'background-color': 'red',
                    });
                },140);
            }else{
                $('td:eq('+a+')').addClass("on");
                $('td:eq('+a+')').css('background-color','blue');
                $(this).val('点名');
                clearInterval(id);

            }
        });
    });
</script>